+function(C,x,q){var D={calc:!1};x.fn.rrssb=function(a){var c=x.extend({description:q,emailAddress:q,emailBody:q,emailSubject:q,image:q,title:q,url:q},a);c.emailSubject=c.emailSubject||c.title,c.emailBody=c.emailBody||(c.description?c.description:"")+(c.url?"\n\n"+c.url:"");for(var d in c){c.hasOwnProperty(d)&&c[d]!==q&&(c[d]=j(c[d]))}c.url!==q&&(x(this).find(".rrssb-facebook a").attr("href","https://www.facebook.com/sharer/sharer.php?u="+c.url),x(this).find(".rrssb-tumblr a").attr("href","http://tumblr.com/share/link?url="+c.url+(c.title!==q?"&name="+c.title:"")+(c.description!==q?"&description="+c.description:"")),x(this).find(".rrssb-linkedin a").attr("href","http://www.linkedin.com/shareArticle?mini=true&url="+c.url+(c.title!==q?"&title="+c.title:"")+(c.description!==q?"&summary="+c.description:"")),x(this).find(".rrssb-twitter a").attr("href","https://twitter.com/intent/tweet?text="+(c.description!==q?c.description:"")+"%20"+c.url),x(this).find(".rrssb-hackernews a").attr("href","https://news.ycombinator.com/submitlink?u="+c.url+(c.title!==q?"&text="+c.title:"")),x(this).find(".rrssb-reddit a").attr("href","http://www.reddit.com/submit?url="+c.url+(c.description!==q?"&text="+c.description:"")+(c.title!==q?"&title="+c.title:"")),x(this).find(".rrssb-googleplus a").attr("href","https://plus.google.com/share?url="+(c.description!==q?c.description:"")+"%20"+c.url),x(this).find(".rrssb-pinterest a").attr("href","http://pinterest.com/pin/create/button/?url="+c.url+(c.image!==q?"&amp;media="+c.image:"")+(c.description!==q?"&description="+c.description:"")),x(this).find(".rrssb-pocket a").attr("href","https://getpocket.com/save?url="+c.url),x(this).find(".rrssb-github a").attr("href",c.url)),(c.emailAddress!==q||c.emailSubject)&&x(this).find(".rrssb-email a").attr("href","mailto:"+(c.emailAddress?c.emailAddress:"")+"?"+(c.emailSubject!==q?"subject="+c.emailSubject:"")+(c.emailBody!==q?"&body="+c.emailBody:""))};var b=function(){var c=x("<div>"),a=["calc","-webkit-calc","-moz-calc"];x("body").append(c);for(var d=0;d<a.length;d++){if(c.css("width",a[d]+"(1px)"),1===c.width()){D.calc=a[d];break}}c.remove()},j=function(a){if(a!==q&&null!==a){if(null===a.match(/%[0-9a-f]{2}/i)){return encodeURIComponent(a)}a=decodeURIComponent(a),j(a)}},A=function(){x(".rrssb-buttons").each(function(c){var a=x(this),d=x("li:visible",a),e=d.length,f=100/e;d.css("width",f+"%").attr("data-initwidth",f)})},p=function(){x(".rrssb-buttons").each(function(e){var d=x(this),f=d.width(),h=x("li",d).not(".small").eq(0).width(),l=x("li.small",d).length;if(h>170&&1>l){d.addClass("large-format");var c=h/12+"px";d.css("font-size",c)}else{d.removeClass("large-format"),d.css("font-size","")}25*l>f?d.removeClass("small-format").addClass("tiny-format"):d.removeClass("tiny-format")})},g=function(){x(".rrssb-buttons").each(function(L){var G=x(this),M=x("li",G),d=M.filter(".small"),f=0,J=0,F=d.eq(0),e=parseFloat(F.attr("data-size"))+55,I=d.length;if(I===M.length){var H=42*I,K=G.width();K>H+e&&(G.removeClass("small-format"),d.eq(0).removeClass("small"),y())}else{M.not(".small").each(function(c){var a=x(this),h=parseFloat(a.attr("data-size"))+55,l=parseFloat(a.width());f+=l,J+=h});var E=f-J;E>e&&(F.removeClass("small"),y())}})},z=function(a){x(".rrssb-buttons").each(function(d){var c=x(this),e=x("li",c);x(e.get().reverse()).each(function(o,m){var s=x(this);if(s.hasClass("small")===!1){var u=parseFloat(s.attr("data-size"))+55,h=parseFloat(s.width());if(u>h){var f=e.not(".small").last();x(f).addClass("small"),y()}}--m||g()})}),a===!0&&B(y)},y=function(){x(".rrssb-buttons").each(function(I){var s,a,f,m,e,G=x(this),F=x("li",G),E=F.filter(".small"),H=E.length;H>0&&H!==F.length?(G.removeClass("small-format"),E.css("width","42px"),f=42*H,s=F.not(".small").length,a=100/s,e=f/s,D.calc===!1?(m=(G.innerWidth()-1)/s-e,m=Math.floor(1000*m)/1000,m+="px"):m=D.calc+"("+a+"% - "+e+"px)",F.not(".small").css("width",m)):H===F.length?(G.addClass("small-format"),A()):(G.removeClass("small-format"),A())}),p()},v=function(){x(".rrssb-buttons").each(function(a){x(this).addClass("rrssb-"+(a+1))}),b(),A(),x(".rrssb-buttons li .rrssb-text").each(function(c){var a=x(this),d=a.width();a.closest("li").attr("data-size",d)}),z(!0)},B=function(a){x(".rrssb-buttons li.small").removeClass("small"),z(),a()},k=function(F,K,f,m){var I=C.screenLeft!==q?C.screenLeft:screen.left,t=C.screenTop!==q?C.screenTop:screen.top,i=C.innerWidth?C.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,H=C.innerHeight?C.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,G=i/2-f/2+I,E=H/3-m/3+t,J=C.open(F,K,"scrollbars=yes, width="+f+", height="+m+", top="+E+", left="+G);J&&J.focus&&J.focus()},w=function(){var a={};return function(f,c,d){d||(d="Don't call this twice without a uniqueId"),a[d]&&clearTimeout(a[d]),a[d]=setTimeout(f,c)}}();x(document).ready(function(){try{x(document).on("click",".rrssb-buttons a.popup",{},function(d){var c=x(this);k(c.attr("href"),c.find(".rrssb-text").html(),580,470),d.preventDefault()})}catch(a){}x(C).resize(function(){B(y),w(function(){B(y)},200,"finished resizing")}),v()}),C.rrssbInit=v}(window,jQuery);