!function(b){b(function(){function a(h){for(var k,g=[],l=h.split(","),j=0;j<l.length;j++){if(k=l[j].split("-"),2===k.length){for(var i=parseInt(k[0],10);i<=k[1];i++){g.push(i)}}else{1===k.length&&g.push(parseInt(k[0],10))}}return g}b("[data-gist-id]").each(function(){var s,r,q,p,o,n,m,t=b(this),l={};return t.css("display","block"),s=t.attr("data-gist-id")||"",q=t.attr("data-gist-file"),n="true"===t.attr("data-gist-hide-footer"),m="true"===t.attr("data-gist-hide-line-numbers"),p=(t.attr("data-gist-line")||"").replace(/ /g,""),o=(t.attr("data-gist-highlight-line")||"").replace(/ /g,""),q&&(l.file=q),s?(r="https://gist.github.com/"+s+".json",t.html("Loading gist "+r+(l.file?", file: "+l.file:"")+"..."),b.ajax({url:r,data:l,dataType:"jsonp",timeout:10000,success:function(i){var h,g,e,c,j;i&&i.div?(i.stylesheet&&0!==i.stylesheet.indexOf("http")&&(0!==i.stylesheet.indexOf("/")&&(i.stylesheet="/"+i.stylesheet),i.stylesheet="https://gist.github.com"+i.stylesheet),i.stylesheet&&0===b('link[href="'+i.stylesheet+'"]').length&&(h=document.createElement("link"),g=document.getElementsByTagName("head")[0],h.type="text/css",h.rel="stylesheet",h.href=i.stylesheet,g.insertBefore(h,g.firstChild)),j=b(i.div),j.removeAttr("id"),t.html("").append(j),p&&(e=a(p),j.find(".line").each(function(d){-1===b.inArray(d+1,e)&&b(this).remove()}),j.find(".line-number").each(function(d){-1===b.inArray(d+1,e)&&b(this).remove()})),n&&j.find(".gist-meta").remove(),m&&j.find(".line-numbers").remove(),o&&(c=a(o),j.find("td.line-data").css({width:"100%"}),j.find(".line").each(function(d){-1!==b.inArray(d+1,c)&&b(this).css({"background-color":"rgb(255, 255, 204)"})}))):t.html("Failed loading gist "+r)},error:function(d,c){t.html("Failed loading gist "+r+": "+c)}}),void 0):!1})})}(jQuery);